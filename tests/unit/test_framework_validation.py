"""Framework validation tests for Hypothesis property-based testing.

These tests validate that the Hypothesis testing framework is correctly
configured. They do NOT test application logic.
"""

from __future__ import annotations

import pytest
from hypothesis import given, strategies as st


@pytest.mark.property
@given(
    a=st.floats(allow_nan=False, allow_infinity=False, min_value=0.0, max_value=1.0),
    b=st.floats(allow_nan=False, allow_infinity=False, min_value=0.0, max_value=1.0),
)
def test_hypothesis_framework_available(a: float, b: float) -> None:
    """Validate Hypothesis framework is correctly installed and functional.

    Tests a trivial mathematical invariant (min/max relationship) to confirm
    Hypothesis can generate examples and run property-based tests. This test
    does NOT run in pre-commit (no @pytest.mark.smoke) â€” runs in PR/CI only.

    Args:
        a: A float in [0, 1] generated by Hypothesis.
        b: A float in [0, 1] generated by Hypothesis.
    """
    # Invariant: min is always <= both values, max is always >= both values
    assert min(a, b) <= a
    assert min(a, b) <= b
    assert max(a, b) >= a
    assert max(a, b) >= b
